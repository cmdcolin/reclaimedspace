<!doctype html><html lang="en"><head>
  </head>

  <body>
    <canvas width=1800 height=1000 id="ref"/>
  <script>


//credit https://stackoverflow.com/questions/3417183/modulo-of-negative-numbers
function wrap(i, i_max) {
  return ((i % i_max) + i_max) % i_max;
}
const rando = 20;
const canvas = document.getElementById('ref')
const ctx = canvas.getContext("2d");
      ctx.fillStyle = "#333";
      ctx.fillRect(0, 0, 1800, 1000);

      function gen(colors, walk, initial,param) {
        let pos = [...initial];
        let t = param*Math.PI/4;
        let ct = 0;
        let mult=1
        return () => {
          ctx.fillStyle = colors[ct % colors.length];
          ctx.fillRect(
            900+
                Math.sin(t)*t,
            500 +
                Math.cos(t*Math.sin(t*0.01))*t,
            10,10

          );
          t += 0.1*mult
          if(t>300) mult=-1
          else if(t<0)mult=1
          ct++;
        };
      }
      const walkers = [
        gen(["blue", "navy"], [0.5, 0.5], [600, 100],1),
        gen(["green", "darkgreen"], [0.45, 0.48], [400, 400],2),
        gen(["red", "darkred"], [0.5, 0.5], [1000, 400],3),
        gen(["yellow", "orange"], [0.49, 0.5], [1000, 400],4),
        gen(["#f0f", "purple"], [0.49, 0.49], [1100, 300],5),
        gen(["#232", "black"], [0.49, 0.49], [200, 200],6),
        gen(["#249", "43a"], [0.49, 0.49], [900, 400],7),
        gen(["#2A1B0E ", "#654321"], [0.49, 0.45], [600, 500],9),
      ];



      function gen2(colors, walk, initial,param) {
        let pos = [...initial];
        let t = param*Math.PI/4;
        let ct = 0;
        return () => {
          ctx.fillStyle = colors[ct % colors.length];
          ctx.fillRect(
            900+
                Math.sin(t)*700+Math.cos(0.2*t)*100,
            500 +
                Math.cos(t)*700+Math.sin(0.5*t)*100,
            10,10

          );
          t += 0.1;
          ct++;
        };
      }
      const walkers2 = [
        gen2(["green", "darkgreen"], [0.5, 0.5], [600, 100],1),
        gen2(["lightgreen", "darkgreen"], [0.5, 0.5], [600, 100],2),
        gen2(["green", "lightgreen"], [0.5, 0.5], [600, 100],3),
        gen2(["lightgreen", "darkgreen"], [0.5, 0.5], [600, 100],4),
        gen2(["green", "lightgreen"], [0.5, 0.5], [600, 100],5),
      ];



      function gen3(colors, walk, initial,param) {
        let pos = [...initial];
        let t = param*Math.PI/4;
        let ct = 0;
        return () => {
          ctx.fillStyle = colors[ct % colors.length];
          ctx.fillRect(
            900+
                Math.sin(t)*900+Math.cos(0.2*t)*100,
            500 +
                Math.cos(t)*900+Math.sin(0.5*t)*100,
            10,10

          );
          t += 0.1;
          ct++;
        };
      }
      const walkers3 = [
        gen3(["yellow", "orange"], [0.5, 0.5], [600, 100],1),
        gen3(["orange", "red"], [0.5, 0.5], [600, 100],2),
        gen3(["red", "yello"], [0.5, 0.5], [600, 100],3),
        gen3(["red", "ochre"], [0.5, 0.5], [600, 100],4),
        gen3(["#500", "darkred"], [0.5, 0.5], [600, 100],5),
      ];



      function gen4(colors, walk, initial,param) {
        let pos = [...initial];
        let t = param*Math.PI/4;
        let ct = 0;
        return () => {
          ctx.fillStyle = colors[ct % colors.length];
          ctx.fillRect(
            900+
                Math.sin(t)*500+Math.cos(0.2*t)*100,
            500 +
                Math.cos(t)*500+Math.sin(0.5*t)*100,
            10,10

          );
          t += 0.1;
          ct++;
        };
      }
      const walkers4 = [
        gen4(["blue", "lightblue"], [0.5, 0.5], [600, 100],1),
        gen4(["darkblue", "lightblue"], [0.5, 0.5], [600, 100],2),
        gen4(["#55f", "#00f"], [0.5, 0.5], [600, 100],3),
        gen4(["aquamarine", "blue"], [0.5, 0.5], [600, 100],4),
        gen4(["lightblue", "darkblue"], [0.5, 0.5], [600, 100],5),
      ];





      function gen5(colors, walk, initial,param) {
        let pos = [...initial];
        let t = param*Math.PI/4;
        let ct = 0;
        return () => {
          ctx.fillStyle = colors[ct % colors.length];
          ctx.fillRect(
            (t*100)%1800,
                Math.tan(t)*500,
            10,10

          );
          t += 0.1;
          ct++;
        };
      }
      const walkers5 = [
        gen5(["black", "white"], [0.5, 0.5], [600, 100],1),
        gen5(["black", "white"], [0.5, 0.5], [600, 100],2),
        gen5(["black", "white"], [0.5, 0.5], [600, 100],3),
        gen5(["black", "white"], [0.5, 0.5], [600, 100],4),
        gen5(["black", "white"], [0.5, 0.5], [600, 100],5),
        gen5(["black", "white"], [0.5, 0.5], [600, 100],6),
        gen5(["black", "white"], [0.5, 0.5], [600, 100],7),
        gen5(["black", "white"], [0.5, 0.5], [600, 100],8),
        gen5(["black", "white"], [0.5, 0.5], [600, 100],9),
        gen5(["black", "white"], [0.5, 0.5], [600, 100],10),
      ];



      setInterval(() => {
        walkers.forEach((walker) => walker());
        walkers2.forEach((walker) => walker());
        walkers3.forEach((walker) => walker());
        walkers4.forEach((walker) => walker());
        walkers5.forEach((walker) => walker());
      }, 10);


      setInterval(() => {
        for (let i = 0; i < 3; i++) {
          ctx.fillStyle = "#333";
          ctx.fillRect(
            (Math.random() - 0.1) * 2000,
            (Math.random() - 0.1) * 1200,
            150,
            150
          );
        }
      }, 109);


  </script>

  </body>
</html>


